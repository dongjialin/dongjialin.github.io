<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>折纸屋</title>
  
  
  <link href="http://blog.dongjialin.top/atom.xml" rel="self"/>
  
  <link href="http://blog.dongjialin.top/"/>
  <updated>2020-11-07T09:59:12.055Z</updated>
  <id>http://blog.dongjialin.top/</id>
  
  <author>
    <name>Paper</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>golang小笔记</title>
    <link href="http://blog.dongjialin.top/2020/11/07/go1/"/>
    <id>http://blog.dongjialin.top/2020/11/07/go1/</id>
    <published>2020-11-07T07:27:12.000Z</published>
    <updated>2020-11-07T09:59:12.055Z</updated>
    
    <content type="html"><![CDATA[<h3 id="运行用时"><a href="#运行用时" class="headerlink" title="运行用时"></a>运行用时</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">start</span> := <span class="built_in">time</span>.Now()</span><br><span class="line"><span class="built_in">secs</span> := <span class="built_in">time</span>.Since(<span class="built_in">start</span>).Seconds()</span><br></pre></td></tr></table></figure><h3 id="将字符串-“hello”-转换为-“cello”"><a href="#将字符串-“hello”-转换为-“cello”" class="headerlink" title="将字符串 “hello” 转换为 “cello”"></a>将字符串 “hello” 转换为 “cello”</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">s := <span class="string">&quot;hello&quot;</span></span><br><span class="line">c := []<span class="keyword">byte</span>(s)</span><br><span class="line">c[<span class="number">0</span>] = <span class="string">&#x27;c&#x27;</span></span><br><span class="line">s2 := <span class="keyword">string</span>(c) <span class="comment">// s2 == &quot;cello&quot;</span></span><br></pre></td></tr></table></figure><h3 id="切片（php中类似索引数组）"><a href="#切片（php中类似索引数组）" class="headerlink" title="切片（php中类似索引数组）"></a>切片（php中类似索引数组）</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">当相关数组还没有定义时，我们可以使用 <span class="built_in">make</span>() 函数来创建一个切片 同时创建好相关数组：<span class="keyword">var</span> slice1 []<span class="keyword">type</span> = <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)。</span><br><span class="line">也可以简写为 slice1 := <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)，这里 <span class="built_in">len</span> 是数组的长度并且也是 slice 的初始长度。</span><br><span class="line">所以定义 s2 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">10</span>)，那么 <span class="built_in">cap</span>(s2) == <span class="built_in">len</span>(s2) == <span class="number">10</span>。</span><br><span class="line"></span><br><span class="line"><span class="built_in">make</span> 接受 <span class="number">2</span> 个参数：元素的类型以及切片的元素个数。</span><br><span class="line">如果你想创建一个 slice1，它不占用整个数组，而只是占用以 <span class="built_in">len</span> 为个数个项，那么只要：slice1 := <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>, <span class="built_in">cap</span>)。</span><br><span class="line"><span class="built_in">make</span> 的使用方式是：<span class="function"><span class="keyword">func</span> <span class="title">make</span><span class="params">([]T, <span class="built_in">len</span>, <span class="built_in">cap</span>)</span>，其中 <span class="title">cap</span> 是可选参数。</span></span><br><span class="line"></span><br><span class="line">所以下面两种方法可以生成相同的切片:</span><br><span class="line"><span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">50</span>, <span class="number">100</span>)</span><br><span class="line"><span class="built_in">new</span>([<span class="number">100</span>]<span class="keyword">int</span>)[<span class="number">0</span>:<span class="number">50</span>]</span><br></pre></td></tr></table></figure><h3 id="map（php中类似关联数组）"><a href="#map（php中类似关联数组）" class="headerlink" title="map（php中类似关联数组）"></a>map（php中类似关联数组）</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">map</span> 是 引用类型 的： 内存用 <span class="built_in">make</span> 方法来分配。</span><br><span class="line"><span class="keyword">map</span> 的初始化：<span class="keyword">var</span> map1 = <span class="built_in">make</span>(<span class="keyword">map</span>[keytype]valuetype)。</span><br><span class="line">或者简写为：map1 := <span class="built_in">make</span>(<span class="keyword">map</span>[keytype]valuetype)。</span><br><span class="line"></span><br><span class="line">上面例子中的 mapCreated 就是用这种方式创建的：mapCreated := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">float32</span>)。</span><br><span class="line">相当于：mapCreated := <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">float32</span>&#123;&#125;。</span><br><span class="line">mapAssigned 也是 mapList 的引用，对 mapAssigned 的修改也会影响到 mapLit 的值。</span><br><span class="line"></span><br><span class="line">不要使用 <span class="built_in">new</span>，永远用 <span class="built_in">make</span> 来构造 <span class="keyword">map</span></span><br><span class="line"></span><br><span class="line">map1 := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span><br><span class="line">map1[<span class="string">&quot;New Delhi&quot;</span>] = <span class="number">55</span></span><br><span class="line">map1[<span class="string">&quot;Beijing&quot;</span>] = <span class="number">20</span></span><br><span class="line">map1[<span class="string">&quot;Washington&quot;</span>] = <span class="number">25</span></span><br></pre></td></tr></table></figure><h3 id="转json"><a href="#转json" class="headerlink" title="转json"></a>转json</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">json</span>, _ := <span class="type">json</span>.Marshal(<span class="keyword">array</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">最近在学习Golang，在次记录一下</summary>
    
    
    
    
    <category term="Golang" scheme="http://blog.dongjialin.top/tags/Golang/"/>
    
  </entry>
  
  <entry>
    <title>你好，朋友</title>
    <link href="http://blog.dongjialin.top/2020/11/06/hello-world/"/>
    <id>http://blog.dongjialin.top/2020/11/06/hello-world/</id>
    <published>2020-11-06T07:27:12.000Z</published>
    <updated>2020-11-07T09:59:31.827Z</updated>
    
    
    <summary type="html">欢迎来到我的小站，我会在这里更新一些我的碎碎念，欢迎大家。</summary>
    
    
    
    
    <category term="碎碎念" scheme="http://blog.dongjialin.top/tags/%E7%A2%8E%E7%A2%8E%E5%BF%B5/"/>
    
  </entry>
  
</feed>
